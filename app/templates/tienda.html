{% extends "base.html" %}

{% block title %}Tienda - Fikastore{% endblock %}

{% block content %}
<main class="grid-container">
    {% for producto in productos %}
    <div class="card">
        <a href="{{ url_for('tienda.producto_page', producto_id=producto.id) }}">
            <img src="{{ producto.imagen_url if producto.imagen_url else url_for('static', filename='img/default.png') }}" alt="{{ producto.nombre }}">
        </a>
        <div class="card-info">
            <h2>{{ producto.nombre }}</h2>
            <p class="precio">${{ "%.2f"|format(producto.precio) }}</p>
            <p class="descripcion">{{ producto.descripcion }}</p>
            <p>Talle: {{ producto.talle }}</p>
            <p>{{ producto.stock_temporal }} disponibles</p>
            {% if producto.stock_temporal == 0 %}
            <p>Agotado</p>
            {% endif %}
        </div>
        {% if producto.stock_temporal > 0 %}
        <div class="botones-producto">
            <a href="{{ url_for('tienda.agregar_carrito', producto_id=producto.id) }}">
                <button class="btn-carrito">Agregar al carrito</button>
            </a>
            <a href="{{ url_for('tienda.comprar_carrito', producto_id=producto.id) }}">
                <button class="btn-comprar">Comprar ahora</button>
            </a>
        </div>
        {% endif %}
    </div>
    {% endfor %}
</main>
{% endblock %}
